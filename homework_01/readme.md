# Nginx LogAnalyzer
Для базового запуска достаточно запустить скрипт интерпретатором Python.

При запуске без параметров, в рабочей директории (откуда происходит запуск) должен присутствовать
файл конфигурации "config.cfg" с параметрами.

Параметры в файле конфигурации задаются как: PARAM_NAME=VALUE

Для указания произвольного файла конфигурации скрипт необходимо запустить
с параметром --config=/path/to/config.cfg

Доступные параметры для файла конфигурации:
* REPORT_SIZE - количество URLов, которые попадут в итоговый отчет (отбор по максимальным затратам времени)
* REPORT_DIR - путь до итоговых отчетов. В папке должен лежать шаблон report.html и файл jquery.tablesorter.min.js
* LOG_DIR - путь до логов, которые необходимо обработать
* LOG_LEVEL - уровень логирования скрипта. ERROR, INFO или DEBUG
* MAX_PARSE_ERR_PERC - максимальный % ошибок при парсинге строк лога. При достижении отчёт сформирован не будет
* LOG_FILE - файл для записи логов скрипта. Если не указать - логи будут выводиться в консоль
* RE_NGINX_LOG_FORMAT - regexp выражение для парсинга строк логов
* REPORT_FILE - имя файла отчёта. Допустимые подстановки: {yyyy}, {yy}, {mm}, {dd}
* REPORT_TEMPLATE - файл шаблона отчёта
* REPORT_INSERT_POINT - подстрока вместо которой будет подставлена статистика в шаблон 
* RE_LOG_FILE - regexp выражение для поиска логов в директории

Пример команды для запуска: python3 --config=/home/makssh/log_analyzer/conf.cfg

### Тестирование
ToDo